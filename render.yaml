# Render deployment configuration
# This file defines the service configuration for Render deployment

services:
  - type: web
    name: energy-plan-mvp
    runtime: node
    buildCommand: npm install && npm run build
    startCommand: npm start
    envVars:
      - key: NODE_ENV
        value: production
      - key: NEXT_PUBLIC_APP_URL
        fromSecret: app-url
      - key: EIA_API_KEY
        fromSecret: eia-api-key
      # Legacy support: UTILITY_API_KEY can be used as fallback
      - key: UTILITY_API_KEY
        fromSecret: utility-api-key
        optional: true
    healthCheckPath: /
    plan: starter
    region: oregon
    autoDeploy: false

# Optional: Database service (for future use)
# databases:
#   - name: energy-plan-db
#     databaseName: energy_plan
#     user: energy_plan_user
#     plan: starter
#     region: oregon

